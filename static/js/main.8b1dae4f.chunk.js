(this.webpackJsonpjviz=this.webpackJsonpjviz||[]).push([[0],{220:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},229:function(e){e.exports=JSON.parse('{"a":"0.3.0"}')},230:function(e,t,n){e.exports=n(741)},269:function(e,t,n){},276:function(e,t,n){},738:function(e,t,n){},739:function(e,t,n){},740:function(e,t,n){},741:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(47),r=n.n(i),o=n(1),l=n(2),c=n(4),u=n(3),d=n(5),p=n(15),h=n.n(p),g=n(220),m=n.n(g),v=n(31),f=n(30),b=n.n(f),y=n(125),E=n.n(y),w=n(6),N=n.n(w),O=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];Object(o.a)(this,e),this.getRelations=function(e,n){switch(n){case"node":var a=N.a.find(t.nodes,{path:e});if(a)return{in:a.topics.subscribers,out:a.topics.publishers,type:"topic"};break;case"topic":var s=N.a.find(t.topics,{path:e});if(s)return{in:s.publishers,out:s.subscribers,type:"node"}}},this.nodes=n,this.topics=a,this.services=s,this.actions=i}return Object(l.a)(e,[{key:"findNode",value:function(e,t){switch(t){case"node":return N.a.find(this.nodes,{path:e});case"topic":return N.a.find(this.topics,{path:e})}}}]),e}();function k(e){return new Promise((function(t,n){e.getNodes((function(n){var a=n.map((function(t){return function(e,t){return new Promise((function(n,a){e.getNodeDetails(t,(function(e,a,s){n({path:t,actions:[],topics:{publishers:a,subscribers:e},services:{clients:s},type:"node"})}),(function(e){console.error("Failed to get node details",t,e),a(e)}))}))}(e,t)}));Promise.all(a.map((function(e){return e.catch((function(){}))}))).then((function(e){var n=e.filter((function(e){return void 0!==e}));console.table(n),t(N.a.sortBy(n,"path"))}))}),(function(e){return console.log("RosGraph updateRosGraph failed to getNodes: "+e),n("RosGraph updateRosGraph failed to getNodes: "+e)}))}))}function C(e){return new Promise((function(t,n){return k(e).then((function(t){return function(e,t){return new Promise((function(n,a){e.getTopics((function(e){var a=e.topics.map((function(n,a){var s=function(e,t){var n=[],a=[];return e.forEach((function(e){e.topics&&e.topics.publishers&&e.topics.publishers.includes(t)&&n.push(e.path),e.topics&&e.topics.subscribers&&e.topics.subscribers.includes(t)&&a.push(e.path)})),{publishers:n,subscribers:a}}(t,n);return{path:n,messageType:e.types[a],publishers:s.publishers,subscribers:s.subscribers,type:"topic"}})),s=N.a.sortBy(a,"path");n({topics:s,nodes:t})}),(function(e){console.error("Failed to get topic",e)}))}))}(e,t)})).then((function(e){var n=e.topics,a=e.nodes;return t(new O(a,n))}))}))}var j=["float32","float64"],x=["int8","uint8","int16","uint16","int32","uint32","int64","uint64"],S=["byte","bool","string"],I=function(e){function t(){var e,n;Object(o.a)(this,t);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).MessageField=function(e){var t=e.fieldIndex,s=e.messageIndex,i=e.name,r=e.path,o=e.type;return a.createElement("div",{className:"MessageLine"},a.createElement("span",{className:"MessageLabel"},i," (",n.props.messageDetails[s].fieldtypes[t],"):"),a.createElement("input",{className:"MessageTypeInput",type:"text",value:n.props.values[s][t],onChange:function(e){var a=n.props.message,i=null;if(S.includes(o))i=e.target.value;else if(j.includes(o))i=parseFloat(e.target.value);else{if(!x.includes(o))return void console.log("I was not expecting this message type",o);i=parseInt(e.target.value,10)}N.a.set(a,r,i);var l=n.props.values;l[s][t]=i,n.props.updateState({message:a,values:l})}}))},n.MessageFieldArray=function(e){var t=e.messageIndex,s=e.path,i=n.props.messageDetails[t],r=i.fieldtypes.map((function(e,a){var r=i.fieldnames[a],o=s.concat(r);return S.includes(e)||j.includes(e)||x.includes(e)?n.MessageField({name:r,fieldIndex:a,messageIndex:t,path:o,type:e}):"std_msgs/Header"===e?n.MessageHeader({name:r,messageIndex:t+1,path:o}):n.MessageType({name:r,messageIndex:t+1,path:o})}));return a.createElement("div",{style:{marginLeft:10}},r)},n.MessageType=function(e){var t=e.messageIndex,s=e.name,i=e.path;return a.createElement("div",null,a.createElement("div",{className:"MessageLabel",style:{marginRight:5}},s,":"),n.MessageFieldArray({messageIndex:t,path:i}))},n.MessageHeader=function(e){var t=e.messageIndex,s=e.name,i=e.path;return a.createElement("div",null,a.createElement("div",{className:"MessageLine"},a.createElement("span",{className:"MessageLabel"},s,":"),a.createElement("select",{className:"MessageTypeInput",value:n.props.auto,onChange:function(e){return n.props.updateState({auto:"true"===e.target.value})}},a.createElement("option",{value:!0},"auto"),a.createElement("option",{value:!1},"manual"))),n.props.auto||n.MessageFieldArray({messageIndex:t,path:i}))},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.MessageFieldArray({messageIndex:0,path:[]})}}]),t}(a.Component),A=(n(269),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={hasError:!1},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){return this.state.hasError?a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(a.Component)),T=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={minimised:!1},n.formatName=function(e){return e.length>25?e.slice(0,22)+"...":e},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return a.createElement("div",{className:"Widget"},a.createElement(b.a,{effect:"solid",place:"left",type:"info"}),a.createElement("div",{className:"Header","data-tip":this.props.name,onClick:function(){return e.setState({minimised:!e.state.minimised})}},!!this.props.state&&a.createElement("div",{className:"State"+this.props.state}),a.createElement("div",{className:"Name"},this.formatName(this.props.name)),!!this.props.onRequestClose&&a.createElement("div",{className:"Close",onClick:this.props.onRequestClose},"x")),a.createElement(A,null,!this.state.minimised&&a.createElement("div",{className:"Main"},a.createElement("div",{className:"Content"},this.props.children))))}}]),t}(a.Component),R=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={auto:!1,message:n.decodeTypeDefsRec(n.props.details[0],n.props.details),repeat:0,values:n.props.details.map((function(e){return e.examples}))},n.intervalId=null,n.frequency=[{interval:0,display:"Single"},{interval:1e4,display:"0.1 Hz"},{interval:5e3,display:"0.5 Hz"},{interval:1e3,display:"1 Hz"},{interval:200,display:"5 Hz"},{interval:100,display:"10 Hz"}],n.publisher=new h.a.Topic({ros:n.props.ros,name:n.props.topic,messageType:n.props.type}),n.componentWillUnmount=function(){n.state.repeat&&n.intervalId&&clearInterval(n.intervalId),n.setState({repeat:0})},n.publish=function(){if(n.state.message){var e=n.state.message;if(n.state.auto){var t=Date.now();e.header&&(e.header.stamp={secs:t/1e3,nsecs:t%1e3})}var a=new h.a.Message(e);n.publisher.publish(a)}},n.toggleRepeat=function(){var e=(n.state.repeat+1)%n.frequency.length;n.intervalId&&clearInterval(n.intervalId),0!==e&&(n.intervalId=setInterval(n.publish,n.frequency[e].interval)),n.setState({repeat:e})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"decodeTypeDefsRec",value:function(e,t){for(var n={},a=0;a<e.fieldnames.length;a++){var s=e.fieldarraylen[a],i=e.fieldnames[a],r=e.fieldtypes[a],o=e.examples[a];if(-1===r.indexOf("/"))-1===s?("float64"===r&&(console.log("fieldExample",o,parseFloat(o)),o=parseFloat(o)),n[i]=o):n[i]=[r];else{for(var l=!1,c=0;c<t.length;c++)if(t[c].type.toString()===r.toString()){l=t[c];break}if(l){var u=this.decodeTypeDefsRec(l,t);n[i]=-1===s?u:[u]}else console.log("error","Cannot find "+r+" in decodeTypeDefs")}}return n}},{key:"render",value:function(){var e=this;return a.createElement(T,{name:"Pub: "+this.props.topic,onRequestClose:this.props.onRequestClose},a.createElement("div",{className:"Publisher"},a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:1}},a.createElement("div",{style:{padding:5,overflowY:"auto",flex:1}},a.createElement(I,{auto:this.state.auto,message:this.state.message,messageDetails:this.props.details,name:this.props.type,updateState:function(t){return e.setState(t)},values:this.state.values})),a.createElement("div",{className:"ButtonPanel"},a.createElement("div",{className:"SmallButton ColorOne",onClick:this.publish},"Publish"),a.createElement("div",{className:"SmallButton ColorTwo",onClick:this.toggleRepeat},this.frequency[this.state.repeat].display)))))}}]),t}(a.Component),M=n(743),D=n(221),W=n.n(D);n(276);function G(e){return a.createElement("div",{className:"Message"},a.createElement(M.a,{language:"yaml",className:"Message",useInlineStyles:!1},W.a.stringify(e.message,2)))}var B=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).subscriber=new h.a.Topic({ros:n.props.ros,name:n.props.topic,messageType:n.props.type}),n.state={autoscroll:!0,index:-1,message:{},messageCount:0},n.componentDidMount=function(){n.subscribe()},n.componentWillUnmount=function(){n.subscriber.unsubscribe()},n.subscribe=function(){n.subscriber.subscribe((function(e){n.setState((function(t){return{message:e,messageCount:t.messageCount+=1}}))}))},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e="Red";return this.state.messageCount>0&&(e=this.state.message?"Green":"Amber"),a.createElement(T,{name:this.props.topic+" ("+this.state.messageCount+")",state:e,onRequestClose:this.props.onRequestClose},a.createElement(G,{message:this.state.message}))}}]),t}(a.Component);function F(e){var t=E()();return a.createElement("div",null,a.createElement(b.a,{effect:"solid",place:"right",type:"info"}),a.createElement("div",{"data-tip":"Subscribe to "+e.node.path,className:"SmallButton ColorTwo",onClick:function(){e.addWidget(t,a.createElement(B,{key:t,ros:e.ros,topic:e.node.path,type:e.node.messageType,onRequestClose:function(){return e.removeWidget(t)}}),e.node.path+" subscriber")}},"Subscribe"))}function H(e){var t=this,n=E()();return a.createElement("div",null,a.createElement(b.a,{effect:"solid",place:"right",type:"info"}),a.createElement("div",{"data-tip":"Publish to "+e.node.path,className:"SmallButton ColorThree",onClick:function(){e.ros.getMessageDetails(e.node.messageType,(function(t){e.addWidget(n,a.createElement(R,{key:n,ros:e.ros,details:t,topic:e.node.path,type:e.node.messageType,onRequestClose:function(){return e.removeWidget(n)}}),e.node.path+" publisher")}),(function(e){console.log("Message details failed",t.props.type,e)}))}},"Publish"))}function _(e){return a.createElement("div",null,a.createElement(b.a,{effect:"solid",place:"right",type:"info"}),a.createElement("div",{"data-tip":"Hide "+e.path,className:"SmallButton ColorOne",onClick:function(){e.hideItem(e.path,e.type)}},"Hide"))}var L=function(e){if(!e.node)return a.createElement("div",{className:"ButtonPanel"},e.children);var t=[];switch(e.node.type){case"topic":var n=e.node;t.push(a.createElement(H,{key:"publish_"+n.path,ros:e.ros,addWidget:e.addWidget,removeWidget:e.removeWidget,node:n})),t.push(a.createElement(F,{key:"subscribe_"+n.path,ros:e.ros,addWidget:e.addWidget,removeWidget:e.removeWidget,node:n})),t.push(a.createElement(_,{key:"hide_"+n.path,hideItem:e.hideItem,path:n.path,type:e.node.type}));break;case"node":var s=e.node;t.push(a.createElement(_,{key:"hide_"+s.path,hideItem:e.hideItem,path:s.path,type:e.node.type}));break;case"service":case"action":break;default:return!1}return a.createElement("div",{className:"ButtonPanel"},t)},P=n(225),z=n.n(P),q=["/clock","/cpu_monitor","/diag_agg","/hd_monitor","/monitor","/pr2_dashboard","/rosapi","/rosout_agg","/rosout","/rqt","/runtime_logger","/rviz","/rxloggerlevel","/statistics","/record"],J=function(){function e(){var t=this;Object(o.a)(this,e),this.hideItem=function(e,n){return t.hidden.push(e),t},this.unhideItems=function(){return t.hidden=[],t},this.getHidden=function(){return t.hideDebug?[].concat(Object(v.a)(t.hidden),q):t.hidden},this.searchFor=function(e){return t.search=e,t},this.filterFor=function(e){return t.filter=e,t},this.toggled={},this.hidden=[],this.hideDebug=!0,this.search=""}return Object(l.a)(e,[{key:"toggleDebug",value:function(){return this.hideDebug=!this.hideDebug,this}},{key:"updateToggled",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(n)t.split("/").reduce((function(t,n){var a=[t,n].join("/");return-1===e.indexOf(a)&&e.push(a),a}));else{var a=e.indexOf(t);a>-1&&e.splice(a,1)}return e}},{key:"setNodeActive",value:function(e,t,n){var a=this;this.active=n.findNode(e.path,e.type),this.type=e.type;var s=n.getRelations(e.path,e.type),i={};return i[e.type]=this.updateToggled(this.toggled[e.type],e.path,t),s&&(i[s.type]=[].concat(Object(v.a)(s.in),Object(v.a)(s.out)).reduce((function(e,t){return a.updateToggled(e,t,!0)}),[])),this.relations=s,this.toggled=i,this}}]),e}(),V=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={options:t.getOptions(),lonely:{highlight:!1,hide:!1}},n.getGroupTag=function(e,t){var a="default";return n.state.lonely.highlight&&"topic"===t.type&&t.publishers.length+t.subscribers.length===1&&(a="lonely"),void 0!==e&&(e.type===t.type&&e.active&&e.active.path===t.path?a="active":e.relations&&e.relations.in.includes(t.path)?a="input":e.relations&&e.relations.out.includes(t.path)&&(a="output")),a},n.createGraph=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new J,a=[],s=[],i=t.getHidden();e.nodes.forEach((function(e){if(!i.includes(e.path)){var r="node_"+e.path,o=n.getGroupTag(t,e);if(e.topics){var l=e.topics;l.publishers&&l.publishers.forEach((function(e){a.push({from:r,to:"topic_"+e})})),l.subscribers&&l.subscribers.forEach((function(e){a.push({from:"topic_"+e,to:r})}))}s.push({id:r,label:e.path,shape:"box",group:o})}})),e.topics.forEach((function(e){if(!i.includes(e.path)){var a="topic_"+e.path,r=n.getGroupTag(t,e);s.push({id:a,label:e.path,shape:"ellipse",group:r})}}));var r={nodes:s,edges:a};return r},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.createGraph(this.props.rosGraph,this.props.view),n={click:function(t){if(t.nodes.length>0){var n=t.nodes[0].indexOf("/"),a=t.nodes[0],s="node";n>0&&(a=t.nodes[0].slice(n),s=t.nodes[0].slice(0,n-1));var i={path:a,name:a,type:s};e.props.setNodeActive(i,!0)}}};return a.createElement("div",{className:"NodeGraph"},a.createElement("div",{style:{flex:"1 1 auto",height:0}},a.createElement(z.a,{graph:t,options:this.state.options,style:{height:"100%"},events:n})),a.createElement("div",{className:"ButtonPanel"},a.createElement("span",{className:"SmallButton ColorTwo",onClick:function(){var t=e.state.lonely;t.highlight=!e.state.lonely.highlight,e.setState({lonely:t})}},this.state.lonely.highlight?"hide lonely":"lonely")))}}],[{key:"getOptions",value:function(){return{layout:{hierarchical:{direction:"LR",enabled:!1,sortMethod:"directed"}},edges:{color:"#d4d3d3",smooth:!0},nodes:{color:{background:"rgb(98, 118, 131)",border:"rgb(98, 118, 131)",hover:{background:"rgb(92, 162, 180)",border:"rgb(122, 192, 210)"},highlight:{background:"rgb(122, 192, 210)",border:"rgb(122, 192, 210)"}},font:{color:"rgb(223, 223, 223)"}},interaction:{hover:!0},groups:{default:{color:{background:"rgb(98, 118, 131)",border:"rgb(98, 118, 131)"}},active:{color:{background:"rgb(122, 192, 210)",border:"rgb(122, 192, 210)"}},input:{color:{background:"rgb(177, 147, 18)",border:"rgb(177, 147, 18)"}},output:{color:{background:"rgb(128, 177, 18)",border:"rgb(128, 177, 18)"}},lonely:{color:{background:"rgb(163, 105, 105)",border:"rgb(163, 105, 105)"}}},autoResize:!0}}}]),t}(a.Component),U=n(226),K={tree:{base:{listStyle:"none",margin:0,padding:0,fontSize:"16px",overflowY:"auto"},node:{base:{position:"relative",paddingLeft:15},link:{cursor:"pointer",position:"relative",padding:"0px 5px",display:"block"},activeLink:{background:"#31363F",color:"rgba(122, 192, 210, 0.86)"},toggle:{base:{position:"relative",display:"inline-block",verticalAlign:"top",marginLeft:"-15px",height:"20px",width:"15px"},wrapper:{position:"absolute",top:"50%",left:"50%",margin:"-7px 0 0 -7px",height:"10px"},height:10,width:10,arrow:{fill:"#9DA5AB",strokeWidth:0}},header:{base:{display:"inline-block",verticalAlign:"top"},connector:{width:"2px",height:"14px",borderLeft:"solid 2px black",borderBottom:"solid 2px black",position:"absolute",top:"0px",left:"-21px"},title:{lineHeight:"22px",verticalAlign:"middle"}},subtree:{listStyle:"none",paddingLeft:"0px"},loading:{color:"#E2C089"}}}};function Y(e,t){var n=null;if(t&&(t.in.includes(e)&&(n="NodeInput"),t.out.includes(e)&&(n="NodeOutput")),n)return{Header:function(e){return s.a.createElement("div",{className:n,style:e.style.base},s.a.createElement("div",{style:e.style.title},e.node.name))}}}function Q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new J,n=arguments.length>2?arguments[2]:void 0,a=[];return e.forEach((function(e){if(!t.getHidden().includes(e.path)&&(!t.search||e.path.includes(t.search))){var s=e.path.split("/");!function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,r="/"+n[a],o=n.slice(0,a+1).join("/"),l=!!s.active&&(s.type===i&&s.active.path===o);if(a===n.length-1){var c={active:l,decorators:l?void 0:Y(o,s.relations),name:r,path:o,type:i};return t.push(c),t}var u=N.a.findIndex(t,(function(e){return e.path===o})),d=null;return-1===u?(d={active:l,children:[],decorators:l?void 0:Y(o,s.relations),name:r,path:o,toggled:!!s.toggled[i]&&s.toggled[i].includes(o),type:i},t.push(d)):((d=t[u]).children=d.children||[],d.toggled=!!s.toggled[i]&&s.toggled[i].includes(o)),e(d.children,n,++a,s,i)}(a,s,1,t,n)}})),a}var X=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=Q(this.props.nodes,this.props.view,this.props.type);return a.createElement(T,{name:this.props.name},a.createElement(U.Treebeard,{data:e,onToggle:this.props.setNodeActive,style:K}))}}]),t}(a.Component),Z=(n(736),n(737),n(738),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={autoExpand:!0,layouts:{},rosGraph:new O,view:new J,widgets:[]},n.updateRosGraph=function(){C(n.props.ros).then((function(e){return n.setState({rosGraph:e})}))},n.setNodeActive=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n.setState({view:n.state.view.setNodeActive(e,t,n.state.rosGraph)})},n.addWidget=function(e,t){console.log("Adding: ",e,t),n.setState((function(n){return{widgets:[].concat(Object(v.a)(n.widgets),[{id:e,element:t}])}}))},n.removeWidget=function(e){console.log("Removing: ",e);var t=n.state.widgets.filter((function(t){return t.id!==e}));n.setState({widgets:t})},n.handleSearch=function(e){n.setState({view:n.state.view.searchFor(e.target.value)})},n.handleSearchKey=function(e){},n.hideItem=function(e,t){n.setState({view:n.state.view.hideItem(e,t)})},n.updateRosGraph(),n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return a.createElement("div",{className:"JViz"},a.createElement("div",{className:"Sidebar"},a.createElement("div",{style:{padding:5,display:"flex"}},a.createElement("input",{type:"text",className:"InputTextBox",onChange:this.handleSearch,onKeyDown:this.handleSearchKey,placeholder:"Search...",value:this.state.view.search})),a.createElement(X,{name:"Node List",nodes:this.state.rosGraph.nodes,view:this.state.view,setNodeActive:this.setNodeActive,type:"node"}),a.createElement(X,{name:"Topic List",nodes:this.state.rosGraph.topics,view:this.state.view,setNodeActive:this.setNodeActive,type:"topic"}),!!this.state.view.active&&a.createElement(L,{ros:this.props.ros,addWidget:this.addWidget,removeWidget:this.removeWidget,hideItem:this.hideItem,node:this.state.view.active})),a.createElement("div",{className:"JViz-main"},a.createElement(V,{key:"node_graph",rosGraph:this.state.rosGraph,view:this.state.view,setNodeActive:this.setNodeActive}),a.createElement("div",{className:"ButtonPanel"},a.createElement("div",{"data-tip":"Refresh the entire ros graph",className:"SmallButton ColorOne",onClick:this.updateRosGraph},"Refresh"),a.createElement("div",{className:"SmallButton ColorTwo",onClick:function(){e.setState({view:e.state.view.toggleDebug()})}},this.state.view.hideDebug?"Show Debug":"Hide Debug"),a.createElement("div",{className:"SmallButton ColorOne",onClick:function(){e.setState({view:e.state.view.unhideItems()})}},"Unhide"))),!!this.state.widgets.length&&a.createElement("div",{className:"Sidebar"},this.state.widgets.map((function(e){return e.element}))))}}]),t}(a.Component)),$=(n(739),n(229)),ee=function(e){function t(){var e,n;Object(o.a)(this,t);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={connected:!1,error:void 0,url:"ws://localhost:9090"},n.ros=null,n.handleChange=function(e){n.setState({url:e.target.value})},n.handleConnect=function(){try{n.ros=new h.a.Ros({url:n.state.url}),n.ros&&n.ros.on("connection",(function(){n.setState({connected:!0})})),n.ros&&n.ros.on("error",(function(e){console.log(e),n.setState({error:a.createElement("div",{style:{color:"rgb(161, 55, 55)",margin:5}},a.createElement("div",null,"Unable to establish connection to rosbridge server"))})}))}catch(e){console.log("Failed to create ros instance",e),n.setState({error:a.createElement("div",{style:{color:"rgb(161, 55, 55)",margin:5}},a.createElement("div",null,e.message))})}},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.state.connected?a.createElement("div",{className:"App"},a.createElement(Z,{ros:this.ros})):a.createElement("div",{className:"App"},a.createElement("div",{className:"AppHeader"},a.createElement("img",{src:m.a,className:"Logo",alt:"logo"}),a.createElement("h2",null,"Welcome to JViz")),a.createElement("div",{className:"AppMain"},a.createElement("p",null,"Connect to url"),a.createElement("input",{type:"url",name:"url",value:this.state.url,onChange:this.handleChange}),a.createElement("button",{onClick:this.handleConnect,value:"Connect"},"Connect"),this.state.error),a.createElement("div",{className:"AppFooter"},a.createElement("div",{style:{float:"right"}},"JViz Version: ",$.a)))}}]),t}(a.Component);n(740);r.a.render(s.a.createElement(ee,null),document.getElementById("root"))}},[[230,1,2]]]);
//# sourceMappingURL=main.8b1dae4f.chunk.js.map